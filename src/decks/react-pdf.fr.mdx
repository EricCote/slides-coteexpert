# Générer PDF avec React

Présentation par Éric Côté

## [React Academy](https://www.reactAcademy.live)

---

### Eric Côté

<img
  src='https://www.reactacademy.live/static/20616643d8afc491bd4c1817ae69db63/5a6cd/Eric_Cote.webp'
  alt='Eric Côté'
  title='Eric Côté'
  width='400px'
/>

- Débute avec les machines 8 bits (Commodore 64)
- Formateur informatique depuis 2001 (.NET, C#, ASP.NET MVC, Sql Server, Azure)
- Formateur en développement Open Source depuis 2018
  - Javascript, TypeScript, React, GitHub, REST, Node, Express, Next, Remix, etc.
- Formateur-Propriétaire de React Academy Live

---

### React Academy Live

<div>

<img
  src='/img/logoReact.svg'
  style={{ float: 'left', width: '300px', marginRight: '40px' }}
/>

Formations en entreprise, ainsi qu'en virtuel
pour apprendre et maîtriser les technologies web modernes:
**React, TypeScript, Next** et **Remix**.

Offre de la formation depuis 2018.

**Nouveau:** Nous avons remplacé CRA (Create-React-App) par **Vite**

**Nouveau:** Nous utilisons maintenant **TypeScript** sur tous nos exemples (plutôt que JS)

</div>

---

## React a plusieurs engins de rendu

- Plusieurs versions de rendu:
  - React DOM génère du HTML (Le plus populaire)
  - React Remotion génère des vidéos .mp4
  - React PDF génère des documents PDF ⬅︎
  - React Docx génère des documents Word
  - React Native génère des applications mobiles et tablettes (Android et iOS)
  - React TV génère des application télés
  - React VR génère des interfaces pour réalité virtuelle
  - React Unity génère des scènes 3D

https://github.com/chentsulin/awesome-react-renderer

---

## PDF = Portable Document Format

- Créé par Adobe en 1992
- Standardisé en 2008 (ISO-32000)
- "Ouvert" en avril 2023 (https://www.pdfa-inc.org/product/iso-32000-2-pdf-2-0-bundle-sponsored-access/)
- Basé sur le langage **PostScript**
- Encapsule tout dans un seul fichier
  - Texte
  - Polices de caractères
  - Images vectorielles
  - Images matricielles

---

### Code

<Sandpack options={{
      showConsole: true,
      showConsoleButton: true,
    }}>

```js
import React from 'react';
import { PDFViewer } from '@react-pdf/renderer';
import MyDocument from './MyDocument';

export default function App() {
  return (
    <PDFViewer>
      <MyDocument />
    </PDFViewer>
  );
}
```

```js src/MyDocument.js
import React from 'react';
import { Document, Text, Page } from '@react-pdf/renderer';

export default function MyDocument() {
  return (
    <Document>
      <Page>
        <Text>Hello There</Text>
      </Page>
    </Document>
  );
}
```

```css
button {
  margin: 10px;
}
```

```json package.json
{
  "dependencies": {
    "@react-pdf/renderer": "latest",
    "react": "latest",
    "react-dom": "latest",
    "react-scripts": "latest"
  },
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "react-scripts test --env=jsdom",
    "eject": "react-scripts eject"
  }
}
```

```js node_modules/@swc/helpers/lib/_define_property.js hidden
'use strict';

exports._ = exports._define_property = _define_property;
function _define_property(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true,
    });
  } else obj[key] = value;

  return obj;
}
```

```js node_modules/@swc/helpers/lib/_ts_decorate.js hidden
'use strict';

exports._ = exports._ts_decorate = require('tslib').__decorate;
```

</Sandpack>

Ce code fonctionne quand il est utilisé à l'extérieur de la diapositive. Il échoue sur la diapo car il y a une erreur de dépendences en date de 2023. Voir [ici](https://github.com/foliojs/fontkit/issues/325) pour plus de détails.

---

# Démo

---

# Questions?
